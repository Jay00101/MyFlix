<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyFlix - New & Popular</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    :root {
      --primary: #ff9f1c;
      --secondary: #e71d36;
      --dark: #141414;
      --light: #f3f3f3;
      --gray: #757575;
      --dark-gray: #222;
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    }
    
    body {
      background-color: var(--dark);
      color: var(--light);
      overflow-x: hidden;
    }
    
    /* Header Styles */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
      padding: 20px 4%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: var(--transition);
    }
    
    header.scrolled {
      background-color: var(--dark);
      box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }
    
    .logo {
      color: var(--primary);
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: -1px;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .logo:hover {
      transform: scale(1.05);
    }
    
    .logo span {
      color: var(--light);
    }
    
    .nav-links {
      display: flex;
      gap: 25px;
    }
    
    .nav-links a {
      color: var(--light);
      text-decoration: none;
      font-size: 1rem;
      font-weight: 500;
      transition: var(--transition);
      position: relative;
    }
    
    .nav-links a.active {
      color: var(--primary);
      font-weight: 600;
    }
    
    .nav-links a.active::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--primary);
    }
    
    .nav-links a:hover {
      color: var(--primary);
    }
    
    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: var(--transition);
    }
    
    .nav-links a:hover::after {
      width: 100%;
    }
    
    #form {
      display: flex;
      align-items: center;
    }
    
    #search {
      width: 300px;
      padding: 12px 20px;
      border: none;
      border-radius: 30px;
      background: rgba(255,255,255,0.1);
      color: var(--light);
      font-size: 1rem;
      outline: none;
      transition: var(--transition);
      backdrop-filter: blur(5px);
    }
    
    #search:focus {
      background: rgba(255,255,255,0.2);
      width: 350px;
    }
    
    #search::placeholder {
      color: rgba(255,255,255,0.7);
    }
    
    /* Main Content */
    main {
      margin-top: 80px;
      padding: 40px 4%;
    }
    
    .hero {
      height: 70vh;
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://storage.googleapis.com/generative-ai-demo-images/user_upload_1/cinema_background.jpg') no-repeat center center/cover;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 0 5%;
      border-radius: 10px;
      margin-bottom: 40px;
      position: relative;
      overflow: hidden;
      animation: fadeIn 1s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%);
    }
    
    .hero-content {
      max-width: 600px;
      z-index: 1;
    }
    
    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 20px;
      line-height: 1.2;
      animation: slideInLeft 1s ease-out;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    @keyframes slideInLeft {
      from { transform: translateX(-50px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    .hero p {
      font-size: 1.2rem;
      margin-bottom: 30px;
      opacity: 0.9;
      animation: slideInRight 1s ease-out;
    }
    
    @keyframes slideInRight {
      from { transform: translateX(50px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    .hero-buttons {
      display: flex;
      gap: 15px;
      animation: fadeInUp 1s ease-out;
    }
    
    @keyframes fadeInUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .btn {
      padding: 12px 25px;
      border-radius: 5px;
      font-weight: 600;
      text-decoration: none;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      font-size: 1.1rem;
    }
    
    .btn-primary {
      background: var(--primary);
      color: white;
    }
    
    .btn-primary:hover {
      background: #ffb347;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(255, 159, 28, 0.4);
    }
    
    .btn-secondary {
      background: rgba(109, 109, 110, 0.7);
      color: white;
    }
    
    .btn-secondary:hover {
      background: rgba(109, 109, 110, 0.9);
      transform: translateY(-3px);
    }
    
    .btn i {
      margin-right: 10px;
      font-size: 1.2rem;
    }
    
    /* Countdown Timer */
    .countdown-container {
      background: rgba(0,0,0,0.5);
      padding: 20px;
      border-radius: 10px;
      margin: 30px 0;
      backdrop-filter: blur(5px);
      animation: pulse 2s infinite alternate;
    }
    
    @keyframes pulse {
      from { box-shadow: 0 0 0 0 rgba(255, 159, 28, 0.4); }
      to { box-shadow: 0 0 0 15px rgba(255, 159, 28, 0); }
    }
    
    .countdown-title {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: var(--primary);
      display: flex;
      align-items: center;
    }
    
    .countdown-title i {
      margin-right: 10px;
    }
    
    .countdown {
      display: flex;
      gap: 15px;
    }
    
    .countdown-item {
      background: rgba(255, 159, 28, 0.2);
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      min-width: 80px;
      transition: var(--transition);
    }
    
    .countdown-item:hover {
      transform: translateY(-5px);
      background: rgba(255, 159, 28, 0.3);
    }
    
    .countdown-number {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
    }
    
    .countdown-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      color: var(--light);
      opacity: 0.8;
    }
    
    /* Featured Review Section */
    .featured-review {
      background: rgba(20, 20, 20, 0.8);
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 40px;
      border-left: 5px solid var(--primary);
      display: flex;
      flex-direction: column;
      gap: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    .featured-review-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .featured-review-title {
      font-size: 1.5rem;
      color: var(--primary);
    }
    
    .featured-review-meta {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .featured-review-rating {
      background: rgba(255, 215, 0, 0.2);
      padding: 5px 10px;
      border-radius: 20px;
      color: gold;
      font-weight: bold;
    }
    
    .featured-review-movie {
      font-size: 1.1rem;
      font-weight: 600;
    }
    
    .featured-review-content {
      line-height: 1.6;
    }
    
    .featured-review-author {
      display: flex;
      align-items: center;
      gap: 10px;
      font-style: italic;
      color: var(--gray);
    }
    
    .featured-review-author img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    /* Movie Grid */
    .movie-grid {
      margin: 40px 0;
    }
    
    .section-title {
      font-size: 1.8rem;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }
    
    .section-title i {
      margin-right: 15px;
      color: var(--primary);
    }
    
    .movies {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }
    
    .movie {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
      transition: var(--transition);
      cursor: pointer;
      animation: zoomIn 0.5s ease-out;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    @keyframes zoomIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    .movie:hover {
      transform: scale(1.05) translateY(-10px);
      z-index: 10;
      box-shadow: 0 15px 30px rgba(255, 159, 28, 0.3);
    }
    
    .movie img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: var(--transition);
    }
    
    .movie:hover img {
      opacity: 0.4;
      transform: scale(1.1);
    }
    
    .movie-info {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 20px;
      background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%);
      opacity: 0;
      transition: var(--transition);
    }
    
    .movie:hover .movie-info {
      opacity: 1;
    }
    
    .movie-info h3 {
      font-size: 1.2rem;
      margin-bottom: 5px;
    }
    
    .movie-info span {
      color: var(--primary);
      font-weight: 600;
    }
    
    .movie-info .overview {
      font-size: 0.9rem;
      margin-top: 10px;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .movie-info .rating {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }
    
    .movie-info .stars {
      color: gold;
      margin-right: 5px;
      letter-spacing: 2px;
    }
    
    .movie-info .review-count {
      font-size: 0.8rem;
      color: var(--gray);
      margin-left: 5px;
    }
    
    .movie-info .release-date {
      font-size: 0.8rem;
      color: var(--primary);
      margin-top: 5px;
      display: flex;
      align-items: center;
    }
    
    .movie-info .release-date i {
      margin-right: 5px;
    }
    
    /* Review Badge */
    .review-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--primary);
      color: white;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      z-index: 2;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    
    .review-badge i {
      margin-right: 5px;
      font-size: 0.7rem;
    }
    
    /* Filter Section */
    .filter-section {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      padding: 8px 15px;
      background: rgba(109, 109, 110, 0.2);
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .filter-btn:hover, .filter-btn.active {
      background: var(--primary);
      transform: translateY(-2px);
    }
    
    /* Review Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 2000;
      overflow-y: auto;
      padding: 20px;
    }
    
    .modal-content {
      background: var(--dark);
      max-width: 800px;
      margin: 50px auto;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 30px rgba(0,0,0,0.5);
      animation: modalFadeIn 0.3s ease-out;
    }
    
    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .modal-header {
      background: var(--dark-gray);
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .modal-title {
      font-size: 1.5rem;
      color: var(--primary);
    }
    
    .close-modal {
      background: none;
      border: none;
      color: var(--light);
      font-size: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .close-modal:hover {
      color: var(--primary);
      transform: rotate(90deg);
    }
    
    .modal-body {
      padding: 20px;
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 20px;
    }
    
    .modal-poster {
      border-radius: 8px;
      overflow: hidden;
    }
    
    .modal-poster img {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .modal-details h2 {
      margin-bottom: 15px;
      font-size: 2rem;
    }
    
    .modal-meta {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }
    
    .modal-meta-item {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
    }
    
    .modal-meta-item i {
      color: var(--primary);
    }
    
    .modal-rating {
      background: rgba(255, 215, 0, 0.2);
      padding: 5px 10px;
      border-radius: 20px;
      color: gold;
      font-weight: bold;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    
    .modal-overview {
      margin: 20px 0;
      line-height: 1.6;
    }
    
    .modal-cast {
      margin: 20px 0;
    }
    
    .cast-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 10px;
    }
    
    .cast-member {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    .cast-member img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .cast-member strong {
      display: block;
      margin-bottom: 5px;
    }
    
    .cast-member span {
      color: var(--gray);
      font-size: 0.9rem;
    }
    
    .modal-reviews {
      margin-top: 30px;
    }
    
    .review-item {
      background: rgba(20, 20, 20, 0.5);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    
    .review-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    
    .review-author {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .review-author img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .review-rating {
      color: gold;
    }
    
    .review-content {
      line-height: 1.5;
    }
    
    .modal-footer {
      padding: 20px;
      background: var(--dark-gray);
      display: flex;
      justify-content: flex-end;
    }
    
    /* Footer */
    .site-footer {
      background-color: var(--dark-gray);
      padding: 50px 4% 30px;
      margin-top: 50px;
    }
    
    .footer-top {
      margin-bottom: 30px;
    }
    
    .footer-top p {
      font-size: 1.1rem;
      color: var(--gray);
    }
    
    .footer-top a {
      color: var(--gray);
      text-decoration: none;
      transition: var(--transition);
    }
    
    .footer-top a:hover {
      color: var(--primary);
    }
    
    .footer-links {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .footer-column {
      display: flex;
      flex-direction: column;
    }
    
    .footer-column a {
      color: var(--gray);
      text-decoration: none;
      margin-bottom: 15px;
      font-size: 0.9rem;
      transition: var(--transition);
      display: flex;
      align-items: center;
    }
    
    .footer-column a:hover {
      color: var(--primary);
      transform: translateX(5px);
    }
    
    .footer-column a i {
      margin-right: 10px;
      font-size: 0.8rem;
    }
    
    .footer-bottom {
      border-top: 1px solid #333;
      padding-top: 20px;
      text-align: center;
      color: var(--gray);
      font-size: 0.9rem;
    }
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .social-links a {
      color: var(--gray);
      font-size: 1.5rem;
      transition: var(--transition);
    }
    
    .social-links a:hover {
      color: var(--primary);
      transform: translateY(-5px);
    }
    
    /* Loading Animation */
    .loader {
      display: none;
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s ease-in-out infinite;
      margin: 30px auto;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Responsive */
    @media (max-width: 992px) {
      header {
        flex-direction: column;
        padding: 15px 4%;
      }
      
      .logo {
        margin-bottom: 15px;
      }
      
      .nav-links {
        margin-bottom: 15px;
      }
      
      #search {
        width: 100%;
      }
      
      #search:focus {
        width: 100%;
      }
      
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      .modal-body {
        grid-template-columns: 1fr;
      }
    }
    
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .hero {
        height: 60vh;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero-buttons {
        flex-direction: column;
      }
      
      .btn {
        justify-content: center;
      }
      
      .movies {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      .countdown {
        flex-wrap: wrap;
      }
      
      .countdown-item {
        min-width: 70px;
      }
      
      .cast-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header id="main-header">
    <div class="logo">MY<span>FLIX</span></div>
    
    <nav class="nav-links">
      <a href="index.html"><i class="fas fa-home"></i> Home</a>  
      <a href="movies.html"><i class="fas fa-film"></i> Movies</a>
      <a href="newpopular.html" class="active"><i class="fas fa-star"></i> New & Popular</a>
    </nav>
    
    <form id="form">
      <input type="text" id="search" class="search" placeholder="Search for new releases...">
    </form>
  </header>
  

  <main id="main">
    <section class="hero">
      <div class="hero-content">
        <h1>New & Popular</h1>
        <p>Discover the hottest new releases and most talked-about movies right now.</p>
        <div class="hero-buttons">
          <a href="#" class="btn btn-primary"><i class="fas fa-play"></i> Watch Now</a>
          <a href="moreinfo.html" class="btn btn-secondary"><i class="fas fa-info-circle"></i> More Info</a>
        </div>
      </div>
    </section>

    <div class="countdown-container">
      <h3 class="countdown-title"><i class="fas fa-clock"></i> Next Big Release</h3>
      <div class="countdown">
        <div class="countdown-item">
          <div class="countdown-number" id="days">00</div>
          <div class="countdown-label">Days</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="hours">00</div>
          <div class="countdown-label">Hours</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="minutes">00</div>
          <div class="countdown-label">Minutes</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="seconds">00</div>
          <div class="countdown-label">Seconds</div>
        </div>
      </div>
    </div>

    <!-- Featured Review Section -->
    <section class="featured-review">
      <div class="featured-review-header">
        <h3 class="featured-review-title">Featured Review</h3>
        <div class="featured-review-meta">
          <span class="featured-review-rating">★ ★ ★ ★ ☆</span>
          <span class="featured-review-movie">Dune: Part Two</span>
        </div>
      </div>
      <div class="featured-review-content">
        "Denis Villeneuve's 'Dune: Part Two' is a monumental achievement in sci-fi filmmaking. The visuals are breathtaking, the performances are stellar (especially Timothée Chalamet and Zendaya), and the story unfolds with epic grandeur. It improves upon the first film in every way, delivering a more action-packed and emotionally resonant experience. The sandworm sequences alone are worth the price of admission."
      </div>
      <div class="featured-review-author">
      </div>
    </section>

    <div class="filter-section">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="new">New Releases</button>
      <button class="filter-btn" data-filter="trending">Trending</button>
      <button class="filter-btn" data-filter="top-rated">Top Rated</button>

    </div>
    
    <section class="movie-grid" id="new-releases">
      <h2 class="section-title"><i class="fas fa-rocket"></i> Just Released</h2>
      <div class="movies" id="new-movies"></div>
    </section>
    
    <section class="movie-grid" id="trending">
      <h2 class="section-title"><i class="fas fa-fire"></i> Trending Now</h2>
      <div class="movies" id="trending-movies"></div>
    </section>
    
    <section class="movie-grid" id="top-rated">
      <h2 class="section-title"><i class="fas fa-trophy"></i> Critically Acclaimed</h2>
      <div class="movies" id="top-rated-movies"></div>
    </section>
    
    <section class="movie-grid" id="coming-soon">
      <h2 class="section-title"><i class="fas fa-calendar-star"></i> Coming Soon</h2>
      <div class="movies" id="coming-movies"></div>
    </section>
    
    <div class="loader" id="loader"></div>
  </main>

  <!-- Review Modal -->
  <div class="modal" id="reviewModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Movie Details</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Content will be inserted here by JavaScript -->
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary close-modal">Close</button>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="footer-top">
      <p>Questions? Call <a href="tel:0008009191743">+91-800-919-1743</a></p>
    </div>

    <div class="footer-links">
      <div class="footer-column">
        <a href="faq.html"><i class="fas fa-question-circle"></i> FAQ</a>
        <a href="helpcentre.html"><i class="fas fa-life-ring"></i> Help Centre</a>
        <a href="account.html"><i class="fas fa-user"></i> Account</a>
      </div>
      <div class="footer-column">
        <a href="waystowatch.html"><i class="fas fa-desktop"></i> Ways to Watch</a>
        <a href="termsofuse.html"><i class="fas fa-file-contract"></i> Terms of Use</a>
        <a href="privacy.html"><i class="fas fa-lock"></i> Privacy</a>
      </div>
      <div class="footer-column">
        <a href="speedtest.html"><i class="fas fa-tachometer-alt"></i> Speed Test</a>
        <a href="legalnotices.html"><i class="fas fa-gavel"></i> Legal Notices</a>
        <a href="contactus.html"><i class="fas fa-envelope"></i> Contact Us</a>
      </div>
    </div>  
    <div class="footer-bottom">
      <p>&copy; 2025 MyFlix created by JAY. All Rights Reserved.</p>
    </div>
  </footer>

  <script>
    // --- LOCAL OFFLINE MOVIE DATABASE ---
    const localMovieDatabase = [
      {
          title: "Dune: Part Two",
          poster_path: "images/116939-1925x2888-mobile-hd-dune-2021-wallpaper.jpg",
          vote_average: 8.3,
          overview: "Follow the mythic journey of Paul Atreides as he unites with Chani and the Fremen while on a path of revenge against the conspirators who destroyed his family.",
          release_date: "2024",
          runtime: 166,
          genres: ["Sci-Fi", "Adventure"],
          cast: [
              { name: "Timothée Chalamet", character: "Paul Atreides", image: "images/482456-2048x1152-desktop-hd-rebecca-ferguson-dune-background-image.jpg" },
              { name: "Zendaya", character: "Chani", image: "images/14114-3840x2160-desktop-4k-zendaya-wallpaper-photo.jpg" },
              { name: "Rebecca Ferguson", character: "Lady Jessica", image: "images/482456-2048x1152-desktop-hd-rebecca-ferguson-dune-background-image.jpg" }
          ],
          reviews: [
             
              {
                  author: "Sarah Johnson",
                  avatar: "images/1246017-2560x1600-desktop-hd-sarah-chalke-background-image.jpg",
                  rating: 5,
                  date: "2024-03-02",
                  content: "A masterpiece that surpasses the first film in every way. The sandworm sequences alone are worth the price of admission."
              }
          ]
      },
      {
          title: "The Batman",
          poster_path: "images/34930-2160x3840-samsung-4k-the-batman-2022-wallpaper.jpg",
          vote_average: 7.9,
          overview: "When a sadistic serial killer begins murdering key political figures in Gotham, Batman is forced to investigate the city's hidden corruption.",
          release_date: "2022",
          runtime: 176,
          genres: ["Action", "Crime", "Drama"],
          cast: [
              { name: "Robert Pattinson", character: "Bruce Wayne/Batman", image: "images/412443-2560x1600-desktop-hd-robert-pattinson-wallpaper-image.jpg" },
              { name: "Zoë Kravitz", character: "Selina Kyle/Catwoman", image: "images/114442-2000x3000-phone-hd-zoe-kravitz-background-photo.jpg" },
              { name: "Paul Dano", character: "The Riddler", image: "images/433245-3000x1996-desktop-hd-paul-dano-wallpaper-photo.jpg" }
          ],
          reviews: [
              {
                  author: "Peter Travers",
                  avatar: "images/995967-1900x2375-iphone-hd-peter-otoole-wallpaper.jpg",
                  rating: 4,
                  date: "2022-03-02",
                  content: "A dark, gripping vision of Gotham that reinvents the Caped Crusader for a new generation."
              }
          ]
      },
      // Add more movies following the same structure
      {
          title: "Everything Everywhere All at Once",
          poster_path: "images/961445-3840x2160-desktop-4k-everything-everywhere-all-at-once-background-photo.jpg",
          vote_average: 8.0,
          overview: "An aging Chinese immigrant is swept up in an insane adventure, where she alone can save the world by exploring other universes.",
          release_date: "2022",
          runtime: 139,
          genres: ["Action", "Adventure", "Comedy"],
          cast: [
              { name: "Michelle Yeoh", character: "Evelyn Wang", image: "images/422930-3000x2095-desktop-hd-michelle-yeoh-wallpaper.jpg" },
              { name: "Ke Huy Quan", character: "Waymond Wang", image: "images/961806-3840x2160-desktop-4k-ke-huy-quan-background.jpg" }
          ],
          reviews: [
              {
                  author: "David Ehrlich",
                  avatar: "images/19041-2397x1581-desktop-hd-david-beckham-wallpaper-image.jpg",
                  rating: 5,
                  date: "2022-03-25",
                  content: "A wildly inventive film that balances absurd humor with genuine emotional depth."
              }
          ]
      },
      {
          title: "Top Gun: Maverick",
          poster_path: "images/55797-1920x2560-mobile-hd-top-gun-maverick-background-photo.jpg",
          vote_average: 8.3,
          overview: "After more than thirty years of service as one of the Navy's top aviators, Pete Mitchell is where he belongs.",
          release_date: "2022",
          runtime: 131,
          genres: ["Action", "Drama"],
          cast: [
              { name: "Tom Cruise", character: "Capt. Pete 'Maverick' Mitchell", image: "images/383146-3840x2160-desktop-4k-tom-cruise-wallpaper.jpg" },
              { name: "Miles Teller", character: "Lt. Bradley 'Rooster' Bradshaw", image: "images/418236-2160x3840-phone-4k-miles-teller-wallpaper (1).jpg" }
          ],
          reviews: [
              {
                  author: "Richard Roeper",
                  avatar: "images/971170-2000x1332-desktop-hd-pierre-richard-background-photo.jpg",
                  rating: 4.5,
                  date: "2022-05-27",
                  content: "A near-perfect blend of nostalgia and fresh, exhilarating filmmaking."
              }
          ]
      },
      {
          title: "Oppenheimer",
          poster_path: "images/uwp4034020.jpg",
          vote_average: 8.1,
          overview: "The story of American scientist J. Robert Oppenheimer and his role in the development of the atomic bomb.",
          release_date: "2023",
          runtime: 180,
          genres: ["Biography", "Drama", "History"],
          cast: [
              { name: "Cillian Murphy", character: "J. Robert Oppenheimer", image: "images/232353-2560x1536-desktop-hd-cillian-murphy-wallpaper.jpg" },
              { name: "Emily Blunt", character: "Kitty Oppenheimer", image: "images/237517-3840x2160-desktop-4k-emily-blun-background.jpg" }
          ],
          reviews: [
              {
                  author: "Robert Daniels",
                  avatar: "images/441481-2070x1380-desktop-hd-jeff-daniels-background-image.jpg",
                  rating: 5,
                  date: "2023-07-20",
                  content: "Christopher Nolan's masterpiece features a career-best performance from Cillian Murphy."
              }
          ]
      },
      {
          title: "Barbie",
          poster_path: "images/298506-1080x1920-iphone-full-hd-barbie-doll-background-image.jpg",
          vote_average: 7.2,
          overview: "Barbie suffers a crisis that leads her to question her world and her existence.",
          release_date: "2023",
          runtime: 114,
          genres: ["Adventure", "Comedy", "Fantasy"],
          cast: [
              { name: "Margot Robbie", character: "Barbie", image: "images/232870-3840x2160-desktop-4k-margot-robbie-wallpaper-photo.jpg" },
              { name: "Ryan Gosling", character: "Ken", image: "images/222672-2160x3840-mobile-4k-ryan-gosling-background.jpg" }
          ],
          reviews: [
              {
                  author: "Manohla Dargis",
                  avatar: "images/221904-1170x2532-phone-hd-robert-de-niro-wallpaper.jpg",
                  rating: 4,
                  date: "2023-07-21",
                  content: "A visually stunning and surprisingly subversive take on the iconic doll."
              }
          ]
      },
      {
          title: "Spider-Man: Across the Spider-Verse",
          poster_path: "images/4095392-1710x2560-iphone-hd-spider-man-across-the-spider-verse-background-photo.jpg",
          vote_average: 8.7,
          overview: "Miles Morales catapults across the Multiverse, where he encounters a team of Spider-People charged with protecting its very existence.",
          release_date: "2023",
          runtime: 140,
          genres: ["Animation", "Action", "Adventure"],
          cast: [
              { name: "Shameik Moore", character: "Miles Morales (voice)", image: "images/444132-3000x2000-desktop-hd-shemar-moore-background-photo.jpg" },
              { name: "Hailee Steinfeld", character: "Gwen Stacy (voice)", image: "images/727779-3840x2160-desktop-4k-hailee-steinfeld-wallpaper.jpg" }
          ],
          reviews: [
              {
                  author: "Owen Gleiberman",
                  avatar: "images/213545-1200x1920-samsung-hd-owen-wilson-background-image.jpg",
                  rating: 4.5,
                  date: "2023-06-02",
                  content: "A dazzling visual feast that pushes animation to new heights."
              }
          ]
      },
      {
          title: "The Super Mario Bros. Movie",
          poster_path: "images/942127-3840x2160-desktop-4k-mario-bros-background-image.jpg",
          vote_average: 7.5,
          overview: "A plumber named Mario travels through an underground labyrinth with his brother Luigi, trying to save a captured princess.",
          release_date: "2023",
          runtime: 92,
          genres: ["Animation", "Adventure", "Comedy"],
          cast: [
              { name: "Chris Pratt", character: "Mario (voice)", image: "images/403972-3840x2160-desktop-4k-chris-pratt-wallpaper-image.jpg" },
              { name: "Anya Taylor-Joy", character: "Princess Peach (voice)", image: "images/841958-2160x1440-desktop-hd-anya-chalotra-background.jpg" }
          ],
          reviews: [
              {
                  author: "Brian Tallerico",
                  avatar: "images/2481024-3840x2160-desktop-4k-brian-cox-wallpaper-photo.jpg",
                  rating: 3.5,
                  date: "2023-04-05",
                  content: "A colorful, energetic adaptation that will delight fans of the games."
              }
          ]
      },
      {
          title: "John Wick: Chapter 4",
          poster_path: "images/2040117-2560x1440-desktop-hd-john-wick-chapter-2-wallpaper.jpg",
          vote_average: 9.8,
          overview: "John Wick uncovers a path to defeating The High Table. But before he can earn his freedom, Wick must face off against a new enemy with powerful alliances across the globe.",
          release_date: "2023",
          runtime: 169,
          genres: ["Action", "Crime", "Thriller"],
          cast: [
              { name: "Keanu Reeves", character: "John Wick", image: "images/85494-3840x2160-desktop-4k-keanu-reeves-background.jpg" },
              { name: "Donnie Yen", character: "Caine", image: "images/999138-1800x2101-iphone-hd-donnie-yen-wallpaper-image.jpg" }
          ],
          reviews: [
              {
                  author: "Peter Debruge",
                  avatar: "images/995973-2000x3000-samsung-hd-peter-otoole-background.jpg",
                  rating: 4,
                  date: "2023-03-24",
                  content: "The most ambitious and visually stunning installment of the franchise yet."
              }
          ]
      },
      {
          title: "Guardians of the Galaxy Vol. 3",
          poster_path: "images/3928885-3840x2160-desktop-hd-guardians-of-the-galaxy-vol-3-wallpaper-image.jpg",
          vote_average: 8.0,
          overview: "Still reeling from the loss of Gamora, Peter Quill rallies his team to defend the universe and one of their own.",
          release_date: "2023",
          runtime: 150,
          genres: ["Action", "Adventure", "Comedy"],
          cast: [
              { name: "Chris Pratt", character: "Peter Quill/Star-Lord", image: "images/404001-3840x2160-desktop-4k-chris-pratt-background-photo.jpg" },
              { name: "Zoe Saldaña", character: "Gamora", image: "images/16664-2880x1800-desktop-hd-zoe-saldana-background-image.jpg" }
          ],
          reviews: [
              {
                  author: "Alonso Duralde",
                  avatar: "images/403519-1920x1080-desktop-1080p-robin-wright-background.jpg",
                  rating: 4.5,
                  date: "2023-05-05",
                  content: "A perfect sendoff for this beloved team of misfits, balancing humor and heartbreak beautifully."
              }
          ]
      }
    ];

    // API Key - Replace with your actual API key
    const API_KEY = 'api_key=1cf50e6248dc270629e802686245c2c8';
    const BASE_URL = 'https://api.themoviedb.org/3';
    const IMG_URL = 'https://image.tmdb.org/t/p/w500';
    
    // Endpoints
    const nowPlayingUrl = BASE_URL + '/movie/now_playing?' + API_KEY;
    const trendingUrl = BASE_URL + '/trending/movie/day?' + API_KEY;
    const topRatedUrl = BASE_URL + '/movie/top_rated?' + API_KEY;
    const upcomingUrl = BASE_URL + '/movie/upcoming?' + API_KEY;
    const searchURL = BASE_URL + '/search/movie?' + API_KEY;
    
    const main = document.getElementById('main');
    const form = document.getElementById('form');
    const search = document.getElementById('search');
    const loader = document.getElementById('loader');
    const filterBtns = document.querySelectorAll('.filter-btn');
    const reviewModal = document.getElementById('reviewModal');
    const modalBody = document.getElementById('modalBody');
    const closeModalBtns = document.querySelectorAll('.close-modal');
    
    // Countdown to a future date (next Friday)
    const countdown = () => {
      const now = new Date();
      const nextFriday = new Date();
      
      // Set to next Friday
      nextFriday.setDate(now.getDate() + (5 - now.getDay() + 7) % 7);
      nextFriday.setHours(0, 0, 0, 0);
      
      const diff = nextFriday - now;
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    };
    
    setInterval(countdown, 1000);
    countdown(); // Initial call
    
    // Get initial movies from local database
    fetchLocalMovies();
    
    function fetchLocalMovies() {
      try {
        loader.style.display = 'block';
        
        // Filter movies by category
        const newReleases = localMovieDatabase.filter(movie => movie.release_date.includes("2024") || movie.release_date.includes("2023"));
        const trending = localMovieDatabase.filter(movie => movie.vote_average >= 7.5);
        const topRated = localMovieDatabase.filter(movie => movie.vote_average >= 8.0);
        const comingSoon = localMovieDatabase.filter(movie => !movie.release_date.includes("2023") && !movie.release_date.includes("2024"));
        
        showMovies(newReleases, 'new-movies');
        showMovies(trending, 'trending-movies');
        showMovies(topRated, 'top-rated-movies');
        showMovies(comingSoon, 'coming-movies');
        
        loader.style.display = 'none';
      } catch (error) {
        console.error('Error loading local movies:', error);
        loader.style.display = 'none';
      }
    }
    
    function showMovies(data, containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      container.innerHTML = '';
      
      data.slice(0, 10).forEach(movie => {
        const { title, poster_path, vote_average, overview, release_date, reviews } = movie;
        
        const reviewCount = reviews ? reviews.length : Math.floor(Math.random() * 5000) + 100;
        const isNew = containerId === 'new-movies' || containerId === 'coming-movies';
        
        const movieEl = document.createElement('div');
        movieEl.classList.add('movie');
        movieEl.setAttribute('data-filter', isNew ? 'new' : containerId.includes('trending') ? 'trending' : 
          containerId.includes('top-rated') ? 'top-rated' : 'coming-soon');
        
        movieEl.innerHTML = `
          ${isNew ? `<div class="review-badge"><i class="fas fa-star"></i>NEW</div>` : ''}
          <img src="${poster_path || 'https://via.placeholder.com/300x450?text=No+Poster'}" alt="${title}" loading="lazy">
          <div class="movie-info">
            <h3>${title}</h3>
            <div class="rating">
              <div class="stars">${getStarRating(vote_average)}</div>
              <span class="review-count">${reviewCount.toLocaleString()} reviews</span>
            </div>
            <div class="release-date"><i class="fas fa-calendar-alt"></i> ${release_date || 'Coming soon'}</div>
            <div class="overview">${overview || 'No overview available.'}</div>
          </div>
        `;
        
        container.appendChild(movieEl);
        
        // Add click event to show detailed review modal
        movieEl.addEventListener('click', () => {
          showMovieModal(movie);
        });
        
        // Add hover animation
        movieEl.addEventListener('mouseenter', () => {
          movieEl.style.transform = 'scale(1.05) translateY(-10px)';
        });
        
        movieEl.addEventListener('mouseleave', () => {
          movieEl.style.transform = 'scale(1)';
        });
      });
    }
    
    function showMovieModal(movie) {
      const { title, poster_path, vote_average, overview, release_date, runtime, genres, cast, reviews } = movie;
      
      modalBody.innerHTML = `
        <div class="modal-poster">
          <img src="${poster_path || 'https://via.placeholder.com/500x750?text=No+Poster'}" alt="${title}">
        </div>
        <div class="modal-details">
          <h2>${title}</h2>
          <div class="modal-meta">
            <span class="modal-rating">
              ${getStarRating(vote_average)}
              <span>${vote_average ? vote_average.toFixed(1) : 'N/A'}/10</span>
            </span>
            <span class="modal-meta-item">
              <i class="fas fa-calendar-alt"></i> ${release_date || 'Coming soon'}
            </span>
            ${runtime ? `<span class="modal-meta-item">
              <i class="fas fa-clock"></i> ${Math.floor(runtime/60)}h ${runtime%60}m
            </span>` : ''}
            ${genres ? `<span class="modal-meta-item">
              <i class="fas fa-tags"></i> ${genres.join(', ')}
            </span>` : ''}
          </div>
          <div class="modal-overview">
            <h3>Overview</h3>
            <p>${overview || 'No overview available.'}</p>
          </div>
          
          ${cast ? `
          <div class="modal-cast">
            <h3>Cast</h3>
            <div class="cast-grid">
              ${cast.slice(0, 4).map(actor => `
                <div class="cast-member">
                  <img src="${actor.image}" alt="${actor.name}" class="cast-image">
                  <div>
                    <strong>${actor.name}</strong>
                    <span>${actor.character}</span>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
          ` : ''}
          
          ${reviews && reviews.length > 0 ? `
          <div class="modal-reviews">
            <h3>Reviews (${reviews.length})</h3>
            ${reviews.map(review => `
              <div class="review-item">
                <div class="review-header">
                  <div class="review-author">
                    <img src="${review.avatar}" alt="${review.author}" class="review-avatar">
                    <div>
                      <div>${review.author}</div>
                      <div class="review-date">${review.date}</div>
                    </div>
                  </div>
                  <div class="review-rating">${getStarRating(review.rating * 2)}</div>
                </div>
                <div class="review-content">"${review.content}"</div>
              </div>
            `).join('')}
          </div>
          ` : '<p>No reviews yet.</p>'}
        </div>
      `;
      
      reviewModal.style.display = 'block';
      document.body.style.overflow = 'hidden';
    }
    
    // Close modal
    closeModalBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        reviewModal.style.display = 'none';
        document.body.style.overflow = 'auto';
      });
    });
    
    // Close modal when clicking outside
    window.addEventListener('click', (e) => {
      if (e.target === reviewModal) {
        reviewModal.style.display = 'none';
        document.body.style.overflow = 'auto';
      }
    });
    
    function getStarRating(vote) {
      if (!vote) return 'Not rated';
      const stars = Math.round(vote / 2);
      return '★'.repeat(stars) + '☆'.repeat(5 - stars);
    }
    
    // Filter functionality
    filterBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        filterBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        const filter = btn.dataset.filter;
        const movies = document.querySelectorAll('.movie');
        
        movies.forEach(movie => {
          if (filter === 'all' || movie.dataset.filter === filter) {
            movie.style.display = 'block';
            movie.style.animation = 'zoomIn 0.5s ease-out';
          } else {
            movie.style.display = 'none';
          }
        });
      });
    });
    
    // Search functionality - searches local database
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const searchTerm = search.value.toLowerCase();
      
      if (searchTerm) {
        loader.style.display = 'block';
        
        try {
          const results = localMovieDatabase.filter(movie => 
            movie.title.toLowerCase().includes(searchTerm) || 
            (movie.overview && movie.overview.toLowerCase().includes(searchTerm))
          );
          
          // Clear all sections
          document.querySelectorAll('.movies').forEach(section => {
            section.innerHTML = '';
          });
          
          // Show search results in all sections
          showMovies(results, 'new-movies');
          showMovies(results, 'trending-movies');
          showMovies(results, 'top-rated-movies');
          showMovies(results, 'coming-movies');
          
          loader.style.display = 'none';
        } catch (error) {
          console.error('Error searching movies:', error);
          loader.style.display = 'none';
        }
      } else {
        fetchLocalMovies();
      }
    });
    
    // Header scroll effect
    window.addEventListener('scroll', () => {
      const header = document.getElementById('main-header');
      if (window.scrollY > 100) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });
    
    // Animate sections when they come into view
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animation = `fadeInUp 1s ease-out`;
          entry.target.style.opacity = 1;
        }
      });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('.movie-grid').forEach(section => {
      section.style.opacity = 0;
      observer.observe(section);
    });
  </script>
</body>
</html>